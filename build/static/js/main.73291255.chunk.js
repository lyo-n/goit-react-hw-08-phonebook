(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{108:function(e,t,n){},11:function(e,t,n){"use strict";var a=n(2),r={fetchContactRequest:Object(a.b)("contacts/fetchRequest"),fetchContactSuccess:Object(a.b)("contacts/fetchSuccess"),fetchContactError:Object(a.b)("contacts/fetchError"),addContactRequest:Object(a.b)("contacts/addRequest"),addContactSuccess:Object(a.b)("contacts/addSuccess"),addContactError:Object(a.b)("contacts/addError"),removeContactRequest:Object(a.b)("contacts/removeRequest"),removeContactSuccess:Object(a.b)("contacts/removeSuccess"),removeContactError:Object(a.b)("contacts/removeError"),deleteContact:Object(a.b)("contacts/remove"),changeFilter:Object(a.b)("contscts/changeFilter")};t.a=r},111:function(e,t,n){"use strict";n.r(t);var a,r,c,o,u,s=n(0),i=n.n(s),l=n(16),b=n.n(l),g=n(53),f=n(54),m=n(68),d=n(67),p=n(15),j=n(50),O=n(40),h=n(24),v=n(8),E=[{path:"/login",label:"Login",exact:!0,component:Object(s.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,158))})),private:!1,restricted:!0},{path:"/register",label:"Register",exact:!0,component:Object(s.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,159))})),private:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(s.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,161))})),private:!0,restricted:!1}],C=n(43),_=function(e){var t=e.component,n=Object(C.a)(e,["component"]),a=Object(p.d)((function(e){return e.auth.token}));return i.a.createElement(v.b,Object.assign({},n,{render:function(e){return a?i.a.createElement(t,e):i.a.createElement(v.a,{to:"/login"})}}))},k=function(e){var t=e.component,n=e.restricted,a=Object(C.a)(e,["component","restricted"]),r=Object(p.d)((function(e){return e.auth.token}));return i.a.createElement(v.b,Object.assign({},a,{render:function(e){return r&&n?i.a.createElement(v.a,{to:"/contacts"}):i.a.createElement(t,e)}}))},y=function(e){return e.auth.token},S=function(e){return e.auth.user.name},L=n(128),R=n(44),q=n.n(R),N={appear:q.a.appear,appearActive:q.a.appearActive},A=function(){return i.a.createElement(L.a,{in:!0,appear:!0,timeout:500,classNames:N,unmountOnExit:!0},i.a.createElement("h1",{className:q.a.logo},"Phonebook"))},M=n(23),x=n.n(M),U=function(){return i.a.createElement("nav",{className:x.a.nav},i.a.createElement(h.b,{exact:!0,to:"/login",className:x.a.NavigationLink+" "+x.a.navLink,activeClassName:x.a.NavigationLinkActive},"Login"),i.a.createElement("br",null),i.a.createElement(h.b,{to:"/register",className:x.a.NavigationLink+" "+x.a.navLink,activeClassName:x.a.NavigationLinkActive},"Register"))},w=n(127),z=n(31),I=n.n(z),P=Object(p.b)((function(e){return{name:S(e),avatar:"http://img1.joyreactor.cc/pics/comment/coub-shark-3016959.jpeg"}}),{onLogout:O.a.logoutUser})((function(e){var t=e.avatar,n=e.name,a=e.onLogout;return i.a.createElement("div",{className:I.a.userMenu},i.a.createElement("div",{className:I.a.container},i.a.createElement("img",{src:t,alt:"",width:"32",className:I.a.avatar}),i.a.createElement("span",{className:I.a.name}," ",n),i.a.createElement(w.a,{className:I.a.btn,variant:"contained",color:"secondary",type:"button",onClick:a},"Logout")))})),F=Object(p.b)((function(e){return{isAuthenticated:y(e)}}))((function(e){var t=e.isAuthenticated;return i.a.createElement("header",null,i.a.createElement(A,null),t?i.a.createElement(P,null):i.a.createElement(U,null))})),B=(n(108),function(){return i.a.createElement(h.a,null,i.a.createElement("div",null,i.a.createElement(F,null),i.a.createElement(s.Suspense,{fallback:i.a.createElement("h1",null)},i.a.createElement(v.d,null,E.map((function(e){return e.private?i.a.createElement(_,Object.assign({key:e.label},e)):i.a.createElement(k,Object.assign({key:e.label},e,{restricted:e.restricted}))})),i.a.createElement(v.a,{to:"/login"})))))}),D=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.currentUser()}},{key:"render",value:function(){return i.a.createElement(B,this.props)}}]),n}(s.Component),G=Object(p.b)((function(e){return{isloadingContacts:j.a.getLoading(e)}}),(function(e){return{currentUser:function(){return e(O.a.getCurrentUser())}}}))(D),J=n(73),W=n(2),V=n(34),Z=n(3),H=n(75),K=n(9),Q=n(11),T=Object(W.c)([],(a={},Object(Z.a)(a,Q.a.fetchContactSuccess,(function(e,t){return t.payload})),Object(Z.a)(a,Q.a.addContactSuccess,(function(e,t){return[].concat(Object(H.a)(e),[t.payload])})),Object(Z.a)(a,Q.a.removeContactSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),a)),X=Object(W.c)("",Object(Z.a)({},Q.a.changeFilter,(function(e,t){return t.payload}))),Y=Object(W.c)(!1,(r={},Object(Z.a)(r,Q.a.addContactRequest,(function(){return!0})),Object(Z.a)(r,Q.a.addContactSuccess,(function(){return!1})),Object(Z.a)(r,Q.a.addContactError,(function(){return!1})),Object(Z.a)(r,Q.a.fetchContactRequest,(function(){return!0})),Object(Z.a)(r,Q.a.fetchContactSuccess,(function(){return!1})),Object(Z.a)(r,Q.a.fetchContactError,(function(){return!1})),Object(Z.a)(r,Q.a.removeContactRequest,(function(){return!0})),Object(Z.a)(r,Q.a.removeContactSuccess,(function(){return!1})),Object(Z.a)(r,Q.a.removeContactError,(function(){return!1})),r)),$=Object(K.c)({arrayItems:T,loading:Y,filter:X}),ee=n(49),te=n(74),ne=n.n(te),ae=n(4),re={name:null,email:null},ce=Object(W.c)(re,(c={},Object(Z.a)(c,ae.a.registerSuccess,(function(e,t){return t.payload.user})),Object(Z.a)(c,ae.a.loginSuccess,(function(e,t){return t.payload.user})),Object(Z.a)(c,ae.a.getCurrentSuccess,(function(e,t){return t.payload})),Object(Z.a)(c,ae.a.logoutSuccess,(function(){return re})),c)),oe=Object(W.c)(null,(o={},Object(Z.a)(o,ae.a.registerSuccess,(function(e,t){return t.payload.token})),Object(Z.a)(o,ae.a.loginSuccess,(function(e,t){return t.payload.token})),Object(Z.a)(o,ae.a.logoutSuccess,(function(){return null})),o)),ue=Object(W.c)(null,(u={},Object(Z.a)(u,ae.a.registerError,(function(e,t){return t.payload})),Object(Z.a)(u,ae.a.loginError,(function(e,t){return t.payload})),Object(Z.a)(u,ae.a.logoutError,(function(e,t){return t.payload})),Object(Z.a)(u,ae.a.getCurrentError,(function(e,t){return t.payload})),u)),se=Object(K.c)({user:ce,token:oe,error:ue}),ie={key:"auth",storage:ne.a,whitelist:["token"]},le=Object(W.a)({reducer:{contacts:$,auth:Object(ee.a)(ie,se)},middleware:[V.a]}),be=Object(ee.b)(le);b.a.render(i.a.createElement(p.a,{store:le},i.a.createElement(J.a,{persistor:be},i.a.createElement(G,null))),document.getElementById("root"))},23:function(e,t,n){e.exports={nav:"nav_nav__2svnm",NavigationLink:"nav_NavigationLink__2zxsp",navLink:"nav_navLink__1NnPE",NavigationLinkActive:"nav_NavigationLinkActive__RdAm7",AddInfoLink:"nav_AddInfoLink__fIuWc"}},31:function(e,t,n){e.exports={userMenu:"userMenu_userMenu__35V5E",container:"userMenu_container__3Zyo2",avatar:"userMenu_avatar__2Dsp0",name:"userMenu_name__2L9rG",btn:"userMenu_btn__2GtqO"}},4:function(e,t,n){"use strict";var a=n(2),r=Object(a.b)("auth/registerRequest"),c=Object(a.b)("auth/registerSuccess"),o=Object(a.b)("auth/registerError"),u=Object(a.b)("auth/loginRequest"),s=Object(a.b)("auth/loginSuccess"),i=Object(a.b)("auth/loginError"),l=Object(a.b)("auth/logoutRequest"),b=Object(a.b)("auth/logoutSuccess"),g=Object(a.b)("auth/logoutError"),f=Object(a.b)("auth/getCurrentRequest"),m=Object(a.b)("auth/getCurrentSuccess"),d=Object(a.b)("auth/getCurrentError");t.a={registerRequest:r,registerSuccess:c,registerError:o,loginRequest:u,loginSuccess:s,loginError:i,logoutRequest:l,logoutSuccess:b,logoutError:g,getCurrentRequest:f,getCurrentSuccess:m,getCurrentError:d}},40:function(e,t,n){"use strict";var a=n(22),r=n.n(a),c=n(4);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var o=function(e){r.a.defaults.headers.common.Authorization="Bearer ".concat(e)},u=function(){r.a.defaults.headers.common.Authorization=""};t.a={registrationUser:function(e){return function(t){t(c.a.registerRequest()),r.a.post("/users/signup",e).then((function(e){o(e.data.token),t(c.a.regasterSuccess(e.data))})).catch((function(e){return t(c.a.regasterError(e))}))}},authorizationUser:function(e){return function(t){t(c.a.loginRequest()),r.a.post("/users/logIn",e).then((function(e){o(e.data.token),t(c.a.loginSuccess(e.data))})).catch((function(e){return t(c.a.loginError(e))}))}},getCurrentUser:function(){return function(e,t){var n=t().auth.token;n&&(o(n),e(c.a.getCurrentRequest()),r.a.get("/users/current").then((function(t){var n=t.data;return e(c.a.getCurrentSuccess(n))})).catch((function(e){return c.a.getCurrentError(e)})))}},logoutUser:function(){return function(e){e(c.a.logoutRequest()),r.a.post("/users/logout").then((function(){u(),e(c.a.logoutSuccess())})).catch((function(t){return e(c.a.logoutError(t))}))}}}},44:function(e,t,n){e.exports={logo:"logo_logo__j2gMh",appear:"logo_appear__3CWM9",appearActive:"logo_appearActive__1w1zy"}},50:function(e,t,n){"use strict";var a=n(17),r=function(e){return e.contacts.arrayItems},c=function(e){return e.contacts.filter},o={selectContacts:Object(a.a)([r,c],(function(e,t){return e&&e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),getContacts:r,getFilter:c,getLoading:function(e){return e.contacts.loading}};t.a=o},81:function(e,t,n){e.exports=n(111)}},[[81,2,3]]]);
//# sourceMappingURL=main.73291255.chunk.js.map